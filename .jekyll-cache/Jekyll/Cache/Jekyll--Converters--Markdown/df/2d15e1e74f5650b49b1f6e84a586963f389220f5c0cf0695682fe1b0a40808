I"ı-<p>Some tips discoverd. Write down for later usage. If something is good, a new post will be published.</p>

<!-- more -->

<h2 class="no_toc" id="catalog">Catalog</h2>
<ul id="markdown-toc">
  <li><a href="#è§£å†³èŠ±æ‹¬å·åœ¨-jekyll-è¢«è¯†åˆ«æˆ-liquid-ä»£ç çš„é—®é¢˜" id="markdown-toc-è§£å†³èŠ±æ‹¬å·åœ¨-jekyll-è¢«è¯†åˆ«æˆ-liquid-ä»£ç çš„é—®é¢˜">è§£å†³èŠ±æ‹¬å·åœ¨ Jekyll è¢«è¯†åˆ«æˆ Liquid ä»£ç çš„é—®é¢˜</a></li>
  <li><a href="#add-valine-comment-block" id="markdown-toc-add-valine-comment-block">Add Valine comment block</a></li>
  <li><a href="#insert-catalog" id="markdown-toc-insert-catalog">Insert catalog</a></li>
  <li><a href="#customized-excerpts" id="markdown-toc-customized-excerpts">Customized excerpts</a>    <ul>
      <li><a href="#way-1-adding-excerpt-variable" id="markdown-toc-way-1-adding-excerpt-variable">Way-1: Adding <code class="highlighter-rouge">excerpt</code> variable.</a></li>
      <li><a href="#way-2-write-it-directly-in-posts" id="markdown-toc-way-2-write-it-directly-in-posts">Way-2: Write it directly in posts.</a></li>
      <li><a href="#trivia" id="markdown-toc-trivia">Trivia</a></li>
    </ul>
  </li>
  <li><a href="#ä¿®å¤åŒé‡æ»šåŠ¨æ¡çš„bug" id="markdown-toc-ä¿®å¤åŒé‡æ»šåŠ¨æ¡çš„bug">ä¿®å¤åŒé‡æ»šåŠ¨æ¡çš„bug</a></li>
  <li><a href="#å¦‚ä½•é¢„è§ˆè‰ç¨¿" id="markdown-toc-å¦‚ä½•é¢„è§ˆè‰ç¨¿">å¦‚ä½•é¢„è§ˆè‰ç¨¿</a></li>
</ul>

<h2 id="è§£å†³èŠ±æ‹¬å·åœ¨-jekyll-è¢«è¯†åˆ«æˆ-liquid-ä»£ç çš„é—®é¢˜">è§£å†³èŠ±æ‹¬å·åœ¨ Jekyll è¢«è¯†åˆ«æˆ Liquid ä»£ç çš„é—®é¢˜</h2>

<p>æœ€ç®€å•çš„æ–¹æ³•</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>
<span class="no">Hello</span><span class="p">,</span> <span class="n">my</span> <span class="nb">name</span> <span class="n">is</span> <span class="p">{{</span><span class="nb">name</span><span class="p">}}</span><span class="o">.</span>

</pre></td></tr></tbody></table></code></pre></div></div>

<p>Ref:</p>
<ul>
  <li><a href="https://blog.walterlv.com/post/jekyll/raw-in-jekyll.html">è§£å†³èŠ±æ‹¬å·åœ¨ Jekyll è¢«è¯†åˆ«æˆ Liquid ä»£ç çš„é—®é¢˜</a></li>
  <li><a href="https://stackoom.com/question/1d89y/åœ¨Jekyllçš„markdownä»£ç å—ä¸­è½¬ä¹‰åŒå¤§æ‹¬å·">åœ¨Jekyllçš„markdownä»£ç å—ä¸­è½¬ä¹‰åŒå¤§æ‹¬å·</a></li>
</ul>

<h2 id="add-valine-comment-block">Add Valine comment block</h2>

<p>Iâ€™ve struggled adding Disqus for a long time, but still nothing achieved. Though not decide to give up Disqus, I found Valine, and sucessfully add it to my blog in only one hour.</p>

<p>In <code class="highlighter-rouge">_config.yml</code> write this</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre># Valine settings
valine_appId: your AppID
valine_appKey: your AppKey
</pre></td></tr></tbody></table></code></pre></div></div>

<p>In <code class="highlighter-rouge">_post.html</code> write this</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>
&lt;!--valine comment function (mikelyou)--&gt;
&lt;script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"&gt;&lt;/script&gt;
&lt;script src='//unpkg.com/valine/dist/Valine.min.js'&gt;&lt;/script&gt;
&lt;div id="comment"&gt;&lt;/div&gt;
&lt;!--valine comment function end (mikelyou)--&gt;

</pre></td></tr></tbody></table></code></pre></div></div>

<p>and</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre>
{% if site.valine_appId %}
&lt;!--è½½å…¥jsï¼Œåœ¨&lt;/body&gt;ä¹‹å‰æ’å…¥å³å¯--&gt;
&lt;script&gt;
    var valine = new Valine();
    valine.init({
        el:'#comment',
        appId:'{{site.valine_appId}}',
        appKey:'{{site.valine_appKey}}',
        notify:false,
        path: '{{ page.url }}',
        placeholder:'Write comments here~'
    })
&lt;/script&gt;
&lt;!--valine comment function end--&gt;
{% endif %}

</pre></td></tr></tbody></table></code></pre></div></div>
<p>where Disqus and netease_comment code appears.</p>

<p>Ref:</p>
<ul>
  <li><a href="https://blog.csdn.net/lindexi_gd/article/details/83176116">jekyll æ·»åŠ  Valine è¯„è®º</a> (brief and effective)</li>
  <li><a href="https://deserts.io/diy-a-comment-system/">Valine: ç‹¬ç«‹åšå®¢è¯„è®ºç³»ç»Ÿ</a> (official?)</li>
  <li><a href="https://www.oukohou.wang/2018/12/18/notices-for-jekyll-themes-fork/#4-valineè¯„è®ºç³»ç»Ÿ">Valineè¯„è®ºç³»ç»Ÿ</a> (good example)</li>
</ul>

<h2 id="insert-catalog">Insert catalog</h2>

<p>It is eazy to insert catalog in jekyll.</p>

<p>Simply write the following line where you want to display the catalog:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>*  
{:toc}
</pre></td></tr></tbody></table></code></pre></div></div>

<p>If you donâ€™t want some heading to show. Add the following line below that heading.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>## Catalog &lt;!--I dont want it appears in itself--&gt;
{:.no_toc}

*  
{:toc}
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Ref:</p>
<ul>
  <li><a href="http://www.zhengjiachao.com/topics/github.io/add-outline-on-jekyll-post.html">ç»™JEKYLLçš„æ–‡ç« æ·»åŠ ç›®å½•</a></li>
</ul>

<h2 id="customized-excerpts">Customized excerpts</h2>

<p>The excerpts (or abstract) will appear at the list of posts, and those auto-generated excerpts are not so beautiful.
Here are two ways to customize the excerpts.</p>

<h4 id="way-1-adding-excerpt-variable">Way-1: Adding <code class="highlighter-rouge">excerpt</code> variable.</h4>

<p>Adding the following line in <code class="highlighter-rouge">_config.yml</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>excerpt_separator:  '&lt;!-- more --&gt;'
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Go to <code class="highlighter-rouge">index.html</code>, change <code class="highlighter-rouge">\{\{ post.content }}</code> to</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>\{\{ post.excerpt }}  # (Please ignore `\` character)
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Now we can set the end of auto-generated excerprt by adding <code class="highlighter-rouge">&lt;!-- more --&gt;</code> in our postsï¼Œlike this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre>---
layout:     post
title:      "Tips"
&lt;!-- And Many things --&gt;
#excerpt: Write your excerpt here.
---

The excerpt.

&lt;!-- more --&gt;

The main content.
</pre></td></tr></tbody></table></code></pre></div></div>

<p>The excerpt shows at homepage will be:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>The excerpt.
</pre></td></tr></tbody></table></code></pre></div></div>
<h4 id="way-2-write-it-directly-in-posts">Way-2: Write it directly in posts.</h4>

<p>You may notice there is an <code class="highlighter-rouge">excerpt</code> variable in the head of the example post above.</p>

<p>We can simply write our excerpts there. And this will <strong>disable auto-generated excerpts</strong>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>excerpt: Write your excerpt here.
</pre></td></tr></tbody></table></code></pre></div></div>

<p>And it will show like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>Write your excerpt here.
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="trivia">Trivia</h4>

<p>If you declear <code class="highlighter-rouge">excerpt_separator</code> at <code class="highlighter-rouge">_config.yml</code>, and declear <code class="highlighter-rouge">excerpt</code> at head of posts at the same time, the later one will be in effect.</p>

<p>Ref:</p>
<ul>
  <li><a href="https://blog.coderzh.com/2015/08/15/JekyllReadMore/">ä½¿ç”¨Jekyllå®˜æ–¹çš„ReadMoreæ‘˜è¦åŠŸèƒ½</a></li>
  <li><a href="https://moonagic.com/configure-the-jekyll-article-list-summary/">Jekyllæ–‡ç« åˆ—è¡¨æ‘˜è¦è®¾ç½®</a></li>
</ul>

<h2 id="ä¿®å¤åŒé‡æ»šåŠ¨æ¡çš„bug">ä¿®å¤åŒé‡æ»šåŠ¨æ¡çš„bug</h2>
<p>å› ä¸ºHuxè‡ªå·±çš„åšå®¢ä¸€ç›´åœ¨ä¿®æ”¹ï¼Œç¨³å®šçš„æ¨¡æ¿ç°åœ¨å·²ç»æ¯”ä»–çš„åšå®¢è½åå¾ˆå¤šä¸ªç‰ˆæœ¬ï¼Œè€Œåœ¨è¿™è¿‡ç¨‹ä¸­å‘ç°ç”šè‡³å·²ç»è§£å†³çš„é—®é¢˜ä¾ç„¶å­˜åœ¨åœ¨æ¨¡æ¿é‡Œã€‚</p>

<p>è¿™æ—¶å€™ï¼Œæœ‰ä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥å°è¯•ï¼šä¸€ã€çœ‹çœ‹Huxæœ¬äººæœ€æ–°çš„æ¨¡æ¿æ·»åŠ äº†ä»€ä¹ˆå†…å®¹ï¼Œçœ‹çœ‹ç‰ˆæœ¬æ›´æ–°æ—¥å¿—ï¼Œå¦‚æœç‰ˆæœ¬å·®å¼‚å¤ªå¤§ï¼Œè€ƒè™‘ç›´æ¥å¤åˆ¶æ–°æ¨¡æ¿ï¼›äºŒã€æŸ¥çœ‹issueé‡Œæœ‰æ²¡æœ‰åŒæ ·çš„é—®é¢˜ã€‚</p>

<p>åŒé‡æ»šåŠ¨æ¡çš„é—®é¢˜å°±åœ¨<a href="https://github.com/Huxpro/huxpro.github.io/issues/123">#issues</a>è¢«è§£å†³è¿‡äº†ï¼Œè§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ã€‚</p>

<h2 id="å¦‚ä½•é¢„è§ˆè‰ç¨¿">å¦‚ä½•é¢„è§ˆè‰ç¨¿</h2>

<p>è¿™é‡Œç›´æ¥å‚è§<a href="http://jekyllcn.com/docs/drafts/">å®˜æ–¹æ–‡æ¡£</a>ã€‚å¦‚æœçœ‹ä¸å¤ªæ‡‚ï¼Œæˆ‘æ¥ç¿»è¯‘ä¸€ä¸‹ï¼š</p>

<ul>
  <li>ç¬¬ä¸€æ­¥ï¼šä½ éœ€è¦åœ¨ç½‘ç«™æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º<code class="highlighter-rouge">_drafts</code>æ–‡ä»¶å¤¹ï¼ˆå› ä¸º<code class="highlighter-rouge">_posts</code>ä¹Ÿæ˜¯åœ¨æ ¹ç›®å½•ä¸‹çš„ï¼Œæ‰€ä»¥<code class="highlighter-rouge">_drafts</code>ç†åº”ä¸<code class="highlighter-rouge">_posts</code>åŒçº§ï¼‰ï¼ŒæŠŠè‰ç¨¿æ”¾å…¥è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ã€‚</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>|-- _posts/
|-- _drafts/
|   |-- a-draft-post.md
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>ç¬¬äºŒæ­¥ï¼šè¿è¡Œ<code class="highlighter-rouge">jekyll serve --drafts</code>å³å¯ï¼ˆæˆ–<code class="highlighter-rouge">jekyll build --drafts</code>ï¼‰</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>jekyll serve            # æ™®é€šçš„ jekyll æœåŠ¡å™¨æ­å»º
jekyll serve --drafts   # æ˜¾ç¤ºè‰ç¨¿çš„ jekyll æœåŠ¡å™¨æ­å»º
</pre></td></tr></tbody></table></code></pre></div></div>
:ET